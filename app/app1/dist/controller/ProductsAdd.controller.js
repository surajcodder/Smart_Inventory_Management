sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast"],function(e,t){"use strict";return e.extend("app1.controller.ProductsAdd",{onNavBack:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("Products")},onSaveProduct:async function(){debugger;var e=this.getView();var r=this.getOwnerComponent().getModel();var a=e.byId("inputSupplier").getSelectedKey();if(!a){t.show("Please select a Supplier.");return}var o="$auto";var n=r.bindContext("/addProduct(...)");n.setParameter("name",e.byId("inputName").getValue()||"Default Product").setParameter("description",e.byId("inputDescription").getValue()||"No description").setParameter("category",e.byId("inputCategory").getValue()||"General").setParameter("price",parseFloat(e.byId("inputPrice").getValue())||0).setParameter("stockLevel",parseInt(e.byId("inputStock").getValue())||0).setParameter("reorderThreshold",parseInt(e.byId("inputReorderThreshold").getValue())||0).setParameter("supplier",a);console.log("Sending Product Data:",JSON.stringify({name:e.byId("inputName").getValue(),description:e.byId("inputDescription").getValue(),category:e.byId("inputCategory").getValue(),price:e.byId("inputPrice").getValue(),stockLevel:e.byId("inputStock").getValue(),reorderThreshold:e.byId("inputReorderThreshold").getValue(),supplier:a.toString()},null,2));try{await n.execute();var u=await n.getBoundContext().requestObject();console.log("New Product Created:",u);t.show("Product saved successfully!");this.onNavBack()}catch(e){console.error("Error while saving product:",e);t.show("Failed to save product. Please try again.")}}})});
//# sourceMappingURL=ProductsAdd.controller.js.map