sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,r){"use strict";return e.extend("app1.controller.Products",{onInit:function(){console.log("Products Page Loaded");var e=sap.ui.core.UIComponent.getRouterFor(this);e.getRoute("Products").attachPatternMatched(this._onPatternMatched,this)},_onPatternMatched:function(){var e=this.getOwnerComponent().getModel();if(e.requestRefresh){e.requestRefresh()}else{e.refresh()}console.log("Model refreshed successfully")},onAddProduct:function(){debugger;var e=sap.ui.core.UIComponent.getRouterFor(this);e.navTo("AddProduct",{},true);debugger},onEditProduct:function(e){var t=sap.ui.core.UIComponent.getRouterFor(this);debugger;var r=e.getSource().getParent().getParent();var o=r.getBindingContext();var n=o.getProperty("ID");t.navTo("EditProduct",{productId:n})},onDeleteProduct:async function(e){debugger;var t=this.getOwnerComponent().getModel();var r=e.getSource().getParent().getParent();var o=r.getBindingContext();var n=o.getProperty("ID");debugger;try{var a=t.bindContext("/deleteProduct(...)");a.setParameter("productsId",n);await a.execute();if(t.requestRefresh){await t.requestRefresh()}else if(t.refresh){t.refresh()}else{console.warn("Model does not support refresh methods.")}console.log("Product deleted successfully and model refreshed")}catch(e){console.error("Error deleting product:",e)}},onSearch:function(e){debugger;var o=e.getParameter("newValue");var n=this.getView().byId("productTable");if(!n){console.error("Table with ID 'productTable' not found.");return}var a=n.getBinding("items");if(!a){console.error("Table binding is undefined. Ensure the model is loaded.");return}var d=[];if(o){d=[new t("name",r.Contains,o),new t("category",r.Contains,o)]}var s=d.length>0?new t({filters:d,and:false}):null;a.filter(s?[s]:[])}})});
//# sourceMappingURL=Products.controller.js.map